let canvas=document.getElementsByClassName("rain")[0];canvas.width=window.innerWidth,canvas.height=window.innerHeight;let c=canvas.getContext("2d");function randomNum(t,i){return Math.floor(Math.random()*t)+i}function RainDrops(t,i,a,n,e){this.x=t,this.y=i,this.endy=a,this.velocity=n,this.opacity=e,this.draw=function(){c.beginPath(),c.moveTo(this.x,this.y),c.lineTo(this.x,this.y-this.endy),c.lineWidth=1,c.strokeStyle="rgba(255, 255, 255, "+this.opacity+")",c.stroke()},this.update=function(){let t=window.innerHeight+100;this.y>=t?this.y=this.endy-100:this.y=this.y+this.velocity,this.draw()}}let rainArray=[];for(let t=0;t<1540;t++){let t=Math.floor(Math.random()*window.innerWidth)+1,i=-500*Math.random(),a=randomNum(30,5),n=randomNum(20,5),e=.55*Math.random();rainArray.push(new RainDrops(t,i,a,n,e))}function animateRain(){requestAnimationFrame(animateRain),c.clearRect(0,0,window.innerWidth,window.innerHeight);for(let t=0;t<rainArray.length;t++)rainArray[t].update()}function audioPlay(...t){for(let i=0;i<t.length;i++)t[i].play()}const rainAudio=new Audio;rainAudio.src="../audio/rain.mp3",rainAudio.loop=!0,rainAudio.volume=.6;const carAudio=new Audio;carAudio.src="../audio/car.mp3",carAudio.loop=!0,carAudio.volume=1;const carHeadlights=document.querySelectorAll(".main__car__headlight");function carHeadlightActive(){setInterval((()=>{carHeadlights.forEach((t=>{t.classList.toggle("main__car__headlight--active")}))}),3e3)}const startButton=document.querySelector(".main__start__button"),startScreen=document.querySelector(".main__start");startButton.addEventListener("click",(()=>{startScreen.classList.add("main__start--hidden"),animateRain(),audioPlay(rainAudio,carAudio),carHeadlightActive()}));